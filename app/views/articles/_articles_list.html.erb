<div class="list-group">
    <% @articles.each do |article| %>
      <div class="list-group-item">
        <div class="d-flex flex-row">
          <% if article.image != "" %>
          <a href="/articles/<%= article.id %>" class="mr-2">
            <%= image_tag(article.image, class: "article-miniature-image") %></a>
          <% end %>
          <div class="d-flex flex-column flex-grow-1">
            <div class="d-flex flex-row align-items-center">
              <% if article.title.length > 30%>
                <%= link_to "#{article.title[0..30]}...", article, class: "m-0, article-title-style"%>
              <% else %>
                <%= link_to "#{article.title[0..30]}", article, class: "m-0, article-title-style"%>
              <% end %>
              <span class="ml-auto badge badge-dark">Categories:</span>
              <% article.categories.each do |category| %>
                <span class="badge badge-secondary ml-1"><%= category.name %></span>
              <% end %>
              <%# link_to "See Author Profile", user, class: "btn btn-xs btn-dark"%>
            </div>
            <div class="text-muted text-small mb-1">Author: <%= article.user.name %></div>
            <div class="text-muted text-small">Published: <%= time_ago_in_words(article.created_at) %> ago.</div>
            <div class="text-muted"><%= article.text[0..200] %>...</div>
            <div class="text-small text-muted mt-auto">Votes: <%= article.votes.count %></div>
          </div>
        </div>
      </div>
    <% end %>
  </div>